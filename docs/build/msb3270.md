# MSB3270 architecture mismatch with .NET 3.5 reference assemblies

When the project is built on Windows with the official `Microsoft.NETFramework.ReferenceAssemblies.net35`
package, MSBuild resolves `mscorlib.dll`, `System.Data.dll`, and the rest of the CLR 2.0 surface area as
32‑bit (`ProcessorArchitecture=x86`). Those assemblies actually contain platform‑agnostic IL, but they were
produced before AnyCPU became the norm and therefore carry the legacy metadata. Because our mod is
compiled as AnyCPU so that it can load in Cities: Skylines' 64‑bit Mono runtime, the metadata mismatch
triggers MSB3270 during `ResolveAssemblyReference`.

The project file now disables the SDK's implicit framework references and re‑adds the reference‑assembly
facades from `ref/.NETFramework/v3.5`, falling back to the legacy `build/.NETFramework/v3.5` copies only
when the facades are missing. Those reference assemblies are stamped as `AnyCPU`, so MSBuild no longer
complains during `ResolveAssemblyReference`, and the fallback keeps older development environments building
until they can install a newer version of the reference pack.
